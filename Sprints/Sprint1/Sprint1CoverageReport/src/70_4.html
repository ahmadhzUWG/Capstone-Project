<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\ahmad\Documents\GitHub\Capstone-Project\code\TaskManager.Tests\Tests\TestModels\ProjectTests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.ComponentModel.DataAnnotations;
using TaskManagerWebsite.Models;

namespace TaskManager.Tests.Tests.TestModels
{
    public class ProjectTests
    {
        [Fact]
        public void Project_Id_CanBeSetAndRetrieved()
        {
            var project = new Project { Id = 1 };
            Assert.Equal(1, project.Id);
        }

        [Fact]
        public void Project_Name_CanBeSetAndRetrieved()
        {
            var project = new Project { Name = &quot;New Application&quot; };
            Assert.Equal(&quot;New Application&quot;, project.Name);
        }

        [Fact]
        public void Project_Description_CanBeSetAndRetrieved()
        {
            var project = new Project { Description = &quot;Developing a new application&quot; };
            Assert.Equal(&quot;Developing a new application&quot;, project.Description);
        }

        [Fact]
        public void Project_ProjectLeadId_CanBeSetAndRetrieved()
        {
            var project = new Project { ProjectLeadId = 5 };
            Assert.Equal(5, project.ProjectLeadId);
        }

        [Fact]
        public void Project_ProjectLead_CanBeAssignedAndRetrieved()
        {
            var user = new User { Id = 2, UserName = &quot;LeadUser&quot; };
            var project = new Project { ProjectLead = user };

            Assert.NotNull(project.ProjectLead);
            Assert.Equal(2, project.ProjectLead.Id);
            Assert.Equal(&quot;LeadUser&quot;, project.ProjectLead.UserName);
        }

        [Fact]
        public void Project_ProjectCreatorId_CanBeSetAndRetrieved()
        {
            var project = new Project { ProjectCreatorId = 10 };
            Assert.Equal(10, project.ProjectCreatorId);
        }

        [Fact]
        public void Project_ProjectGroups_DefaultsToEmptyList()
        {
            var project = new Project();
            Assert.NotNull(project.ProjectGroups);
            Assert.Empty(project.ProjectGroups);
        }

        [Fact]
        public void Project_ProjectGroups_CanBeAssignedAndRetrieved()
        {
            var groups = new List&lt;GroupProject&gt;
            {
                new GroupProject { ProjectId = 1, GroupId = 2 },
                new GroupProject { ProjectId = 1, GroupId = 3 }
            };

            var project = new Project { ProjectGroups = groups };

            Assert.NotNull(project.ProjectGroups);
            Assert.Equal(2, project.ProjectGroups.Count);
        }

        [Fact]
        public void Project_Name_ValidationFails_WhenNull()
        {
            var project = new Project { Name = null };
            var validationResults = ValidateModel(project);

            Assert.Contains(validationResults, v =&gt; v.MemberNames.Contains(&quot;Name&quot;));
        }

        [Fact]
        public void Project_Description_ValidationFails_WhenNull()
        {
            var project = new Project { Description = null };
            var validationResults = ValidateModel(project);

            Assert.Contains(validationResults, v =&gt; v.MemberNames.Contains(&quot;Description&quot;));
        }

        [Fact]
        public void Project_Name_ValidationFails_WhenExceedsMaxLength()
        {
            var project = new Project { Name = new string(&#39;A&#39;, 101) };
            var validationResults = ValidateModel(project);

            Assert.Contains(validationResults, v =&gt; v.MemberNames.Contains(&quot;Name&quot;));
        }

        [Fact]
        public void Project_Description_ValidationFails_WhenExceedsMaxLength()
        {
            var project = new Project { Description = new string(&#39;B&#39;, 501) };
            var validationResults = ValidateModel(project);

            Assert.Contains(validationResults, v =&gt; v.MemberNames.Contains(&quot;Description&quot;));
        }

        private static List&lt;ValidationResult&gt; ValidateModel(object model)
        {
            var validationResults = new List&lt;ValidationResult&gt;();
            var validationContext = new ValidationContext(model, null, null);
            Validator.TryValidateObject(model, validationContext, validationResults, true);
            return validationResults;
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[10,9,10,10,1],[11,13,11,50,1],[12,13,12,41,1],[13,9,13,10,1],[17,9,17,10,1],[18,13,18,68,1],[19,13,19,59,1],[20,9,20,10,1],[24,9,24,10,1],[25,13,25,88,1],[26,13,26,79,1],[27,9,27,10,1],[31,9,31,10,1],[32,13,32,61,1],[33,13,33,52,1],[34,9,34,10,1],[38,9,38,10,1],[39,13,39,67,1],[40,13,40,62,1],[42,13,42,49,1],[43,13,43,53,1],[44,13,44,68,1],[45,9,45,10,1],[49,9,49,10,1],[50,13,50,65,1],[51,13,51,56,1],[52,9,52,10,1],[56,9,56,10,1],[57,13,57,41,1],[58,13,58,51,1],[59,13,59,49,1],[60,9,60,10,1],[64,9,64,10,1],[65,13,69,15,1],[71,13,71,66,1],[73,13,73,51,1],[74,13,74,58,1],[75,9,75,10,1],[79,9,79,10,1],[80,13,80,55,1],[81,13,81,60,1],[83,13,83,53,1],[83,53,83,83,1],[83,83,83,85,1],[84,9,84,10,1],[88,9,88,10,1],[89,13,89,62,1],[90,13,90,60,1],[92,13,92,53,1],[92,53,92,90,1],[92,90,92,92,1],[93,9,93,10,1],[97,9,97,10,1],[98,13,98,71,1],[99,13,99,60,1],[101,13,101,53,1],[101,53,101,83,1],[101,83,101,85,1],[102,9,102,10,1],[106,9,106,10,1],[107,13,107,78,1],[108,13,108,60,1],[110,13,110,53,1],[110,53,110,90,1],[110,90,110,92,1],[111,9,111,10,1],[114,9,114,10,1],[115,13,115,66,1],[116,13,116,78,1],[117,13,117,92,1],[118,13,118,38,1],[119,9,119,10,1]]);
    </script>
  </body>
</html>