<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\ahmad\Documents\GitHub\Capstone-Project\code\TaskManager.Tests\Tests\TestModels\GroupTests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.ComponentModel.DataAnnotations;
using TaskManagerWebsite.Models;

namespace TaskManager.Tests.Tests.TestModels
{
    public class GroupTests
    {
        [Fact]
        public void Group_Id_CanBeSetAndRetrieved()
        {
            var group = new Group { Id = 1 };
            Assert.Equal(1, group.Id);
        }

        [Fact]
        public void Group_Name_CanBeSetAndRetrieved()
        {
            var group = new Group { Name = &quot;Development Team&quot; };
            Assert.Equal(&quot;Development Team&quot;, group.Name);
        }

        [Fact]
        public void Group_Description_CanBeSetAndRetrieved()
        {
            var group = new Group { Description = &quot;A group for all developers&quot; };
            Assert.Equal(&quot;A group for all developers&quot;, group.Description);
        }

        [Fact]
        public void Group_PrimaryManagerId_CanBeSetAndRetrieved()
        {
            var group = new Group { PrimaryManagerId = 5 };
            Assert.Equal(5, group.PrimaryManagerId);
        }

        [Fact]
        public void Group_PrimaryManager_CanBeSetAndRetrieved()
        {
            var user = new User { Id = 1, UserName = &quot;AdminUser&quot; };
            var group = new Group { PrimaryManager = user };

            Assert.NotNull(group.PrimaryManager);
            Assert.Equal(&quot;AdminUser&quot;, group.PrimaryManager.UserName);
        }

        [Fact]
        public void Group_Users_DefaultsToEmptyList()
        {
            var group = new Group();
            Assert.NotNull(group.Users);
            Assert.Empty(group.Users);
        }

        [Fact]
        public void Group_Managers_DefaultsToEmptyList()
        {
            var group = new Group();
            Assert.NotNull(group.Managers);
            Assert.Empty(group.Managers);
        }

        [Fact]
        public void Group_GroupProjects_DefaultsToEmptyList()
        {
            var group = new Group();
            Assert.NotNull(group.GroupProjects);
            Assert.Empty(group.GroupProjects);
        }

        [Fact]
        public void Group_Users_CanBeAssignedAndRetrieved()
        {
            var users = new List&lt;User&gt;
            {
                new User { Id = 1, UserName = &quot;User1&quot; },
                new User { Id = 2, UserName = &quot;User2&quot; }
            };

            var group = new Group { Users = users };

            Assert.NotNull(group.Users);
            Assert.Equal(2, group.Users.Count);
            Assert.Contains(group.Users, u =&gt; u.UserName == &quot;User1&quot;);
            Assert.Contains(group.Users, u =&gt; u.UserName == &quot;User2&quot;);
        }

        [Fact]
        public void Group_Managers_CanBeAssignedAndRetrieved()
        {
            var managers = new List&lt;GroupManager&gt;
            {
                new GroupManager { UserId = 1 },
                new GroupManager { UserId = 2 }
            };

            var group = new Group { Managers = managers };

            Assert.NotNull(group.Managers);
            Assert.Equal(2, group.Managers.Count);
        }

        [Fact]
        public void Group_GroupProjects_CanBeAssignedAndRetrieved()
        {
            var projects = new List&lt;GroupProject&gt;
            {
                new GroupProject { ProjectId = 1 },
                new GroupProject { ProjectId = 2 }
            };

            var group = new Group { GroupProjects = projects };

            Assert.NotNull(group.GroupProjects);
            Assert.Equal(2, group.GroupProjects.Count);
        }

        [Fact]
        public void Group_Name_ValidationFails_WhenNull()
        {
            var group = new Group { Name = null };
            var validationResults = ValidateModel(group);

            Assert.Contains(validationResults, v =&gt; v.MemberNames.Contains(&quot;Name&quot;));
        }

        [Fact]
        public void Group_Description_ValidationFails_WhenNull()
        {
            var group = new Group { Description = null };
            var validationResults = ValidateModel(group);

            Assert.Contains(validationResults, v =&gt; v.MemberNames.Contains(&quot;Description&quot;));
        }

        [Fact]
        public void Group_Name_ValidationFails_WhenExceedsMaxLength()
        {
            var group = new Group { Name = new string(&#39;A&#39;, 101) };
            var validationResults = ValidateModel(group);

            Assert.Contains(validationResults, v =&gt; v.MemberNames.Contains(&quot;Name&quot;));
        }

        [Fact]
        public void Group_Description_ValidationFails_WhenExceedsMaxLength()
        {
            var group = new Group { Description = new string(&#39;B&#39;, 501) };
            var validationResults = ValidateModel(group);

            Assert.Contains(validationResults, v =&gt; v.MemberNames.Contains(&quot;Description&quot;));
        }

        private static List&lt;ValidationResult&gt; ValidateModel(object model)
        {
            var validationResults = new List&lt;ValidationResult&gt;();
            var validationContext = new ValidationContext(model, null, null);
            Validator.TryValidateObject(model, validationContext, validationResults, true);
            return validationResults;
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[10,9,10,10,1],[11,13,11,46,1],[12,13,12,39,1],[13,9,13,10,1],[17,9,17,10,1],[18,13,18,65,1],[19,13,19,58,1],[20,9,20,10,1],[24,9,24,10,1],[25,13,25,82,1],[26,13,26,75,1],[27,9,27,10,1],[31,9,31,10,1],[32,13,32,60,1],[33,13,33,53,1],[34,9,34,10,1],[38,9,38,10,1],[39,13,39,68,1],[40,13,40,61,1],[42,13,42,50,1],[43,13,43,70,1],[44,9,44,10,1],[48,9,48,10,1],[49,13,49,37,1],[50,13,50,41,1],[51,13,51,39,1],[52,9,52,10,1],[56,9,56,10,1],[57,13,57,37,1],[58,13,58,44,1],[59,13,59,42,1],[60,9,60,10,1],[64,9,64,10,1],[65,13,65,37,1],[66,13,66,49,1],[67,13,67,47,1],[68,9,68,10,1],[72,9,72,10,1],[73,13,77,15,1],[79,13,79,53,1],[81,13,81,41,1],[82,13,82,48,1],[83,13,83,47,1],[83,47,83,68,1],[83,68,83,70,1],[84,13,84,47,1],[84,47,84,68,1],[84,68,84,70,1],[85,9,85,10,1],[89,9,89,10,1],[90,13,94,15,1],[96,13,96,59,1],[98,13,98,44,1],[99,13,99,51,1],[100,9,100,10,1],[104,9,104,10,1],[105,13,109,15,1],[111,13,111,64,1],[113,13,113,49,1],[114,13,114,56,1],[115,9,115,10,1],[119,9,119,10,1],[120,13,120,51,1],[121,13,121,58,1],[123,13,123,53,1],[123,53,123,83,1],[123,83,123,85,1],[124,9,124,10,1],[128,9,128,10,1],[129,13,129,58,1],[130,13,130,58,1],[132,13,132,53,1],[132,53,132,90,1],[132,90,132,92,1],[133,9,133,10,1],[137,9,137,10,1],[138,13,138,67,1],[139,13,139,58,1],[141,13,141,53,1],[141,53,141,83,1],[141,83,141,85,1],[142,9,142,10,1],[146,9,146,10,1],[147,13,147,74,1],[148,13,148,58,1],[150,13,150,53,1],[150,53,150,90,1],[150,90,150,92,1],[151,9,151,10,1],[154,9,154,10,1],[155,13,155,66,1],[156,13,156,78,1],[157,13,157,92,1],[158,13,158,38,1],[159,9,159,10,1]]);
    </script>
  </body>
</html>