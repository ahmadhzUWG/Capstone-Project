<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\ahmad\Documents\GitHub\Capstone-Project\code\TaskManager\Controllers\AdminController.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Linq;
using System.Threading.Tasks;
using Microsoft.AspNetCore.Authorization;
using Microsoft.AspNetCore.Identity;
using Microsoft.AspNetCore.Mvc;
using Microsoft.EntityFrameworkCore;
using TaskManagerWebsite.Data;
using TaskManagerWebsite.Models;
using TaskManagerWebsite.ViewModels;

namespace TaskManagerWebsite.Controllers
{
    /// &lt;summary&gt;
    /// Controller for administrative tasks, accessible only to users with the &quot;Admin&quot; role.
    /// Provides functionalities for managing users and groups.
    /// &lt;/summary&gt;
    [Authorize(Roles = &quot;Admin&quot;)]
    public class AdminController(ApplicationDbContext context, UserManager&lt;User&gt; userManager, RoleManager&lt;IdentityRole&lt;int&gt;&gt; roleManager) : Controller
    {
        /// &lt;summary&gt;
        /// Retrieves and displays a list of all users.
        /// &lt;/summary&gt;
        /// &lt;returns&gt;A view displaying all users.&lt;/returns&gt;
        public async Task&lt;IActionResult&gt; Users()
        {
            var users = await context.Users.ToListAsync();
            return View(users);
        }

        /// &lt;summary&gt;
        /// Retrieves details for a specific user by their ID.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;id&quot;&gt;The ID of the user.&lt;/param&gt;
        /// &lt;returns&gt;A view displaying user details or NotFound if the user does not exist.&lt;/returns&gt;

        public IActionResult UserAdd()
        {
            return View();
        }

        // POST: /Admin/UserAdd
        [HttpPost]
        [ValidateAntiForgeryToken]
        public async Task&lt;IActionResult&gt; UserAdd(AdminViewModel model)
        {
            if (!ModelState.IsValid)
                return View(model);

            // Create a new user object. Note that we only set UserName and Email.
            var user = new User { UserName = model.UserName.Trim(), Email = model.Email };

            // Create the user with the specified password.
            var createUserResult = await userManager.CreateAsync(user, model.Password);

            if (createUserResult.Succeeded)
            {
                // Add the user to the Employee role.
                var createUserRoleResult = await userManager.AddToRoleAsync(user, &quot;Employee&quot;);
                if (createUserRoleResult.Succeeded)
                {
                    return RedirectToAction(&quot;Users&quot;, &quot;Admin&quot;);
                }

                foreach (var error in createUserRoleResult.Errors)
                {
                    Console.WriteLine($&quot;Code: {error.Code}, Description: {error.Description}&quot;);
                    ModelState.AddModelError(string.Empty, error.Description);
                }
            }
            
            foreach (var error in createUserResult.Errors)
            {
                Console.WriteLine($&quot;Code: {error.Code}, Description: {error.Description}&quot;);
                ModelState.AddModelError(string.Empty, error.Description);
            }

            return View(model);
        }

        // GET: Users/Details/{id}
        public async Task&lt;IActionResult&gt; UserDetails(int id)
        {
            var user = await context.Users.FindAsync(id);

            if (user == null)
            {
                return NotFound();
            }

            return View(user);
        }

        /// &lt;summary&gt;
        /// Retrieves and displays a list of all groups.
        /// &lt;/summary&gt;
        /// &lt;returns&gt;A view displaying all groups.&lt;/returns&gt;
        public async Task&lt;IActionResult&gt; Groups()
        {
            var groups = await context.Groups.ToListAsync();
            return View(groups);
        }

        /// &lt;summary&gt;
        /// Displays the form for creating a new group.
        /// Populates managers and employees available for selection.
        /// &lt;/summary&gt;
        /// &lt;returns&gt;A view for creating a new group.&lt;/returns&gt;
        public IActionResult CreateGroup()
        {
            var users = context.Users.ToList();
            var userManager = HttpContext.RequestServices.GetRequiredService&lt;UserManager&lt;User&gt;&gt;();

            var managers = users.Where(user =&gt; userManager.IsInRoleAsync(user, &quot;Manager&quot;).Result).ToList();
            var employees = users.Where(user =&gt; userManager.IsInRoleAsync(user, &quot;Employee&quot;).Result).ToList();

            ViewBag.Managers = managers;
            ViewBag.Employees = employees;

            return View();
        }

        /// &lt;summary&gt;
        /// Handles the creation of a new group, assigning selected managers and users.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;group&quot;&gt;The group to be created.&lt;/param&gt;
        /// &lt;param name=&quot;selectedManagers&quot;&gt;List of selected manager IDs.&lt;/param&gt;
        /// &lt;param name=&quot;selectedUsers&quot;&gt;List of selected user IDs.&lt;/param&gt;
        /// &lt;param name=&quot;primaryManagerId&quot;&gt;The primary manager&#39;s ID.&lt;/param&gt;
        /// &lt;returns&gt;A redirect to the Groups list if successful, or returns the form with validation errors.&lt;/returns&gt;
        // Display list of projects
        public async Task&lt;IActionResult&gt; Projects()
        {
            var projects = await context.Projects.ToListAsync();
            return View(projects);
        }

        public async Task&lt;IActionResult&gt; CreateProject()
        {
            var users = await context.Users.ToListAsync();
            ViewBag.ProjectLeads = users;
            return View();
        }

        [HttpPost]
        [ValidateAntiForgeryToken]
        public async Task&lt;IActionResult&gt; CreateProject(Project project)
        {
            if (ModelState.IsValid)
            {
                var currentUserId = userManager.GetUserId(User);

                if (string.IsNullOrEmpty(currentUserId))
                {
                    ModelState.AddModelError(&quot;&quot;, &quot;Unable to determine the logged-in user.&quot;);
                    return View(project);
                }

                project.ProjectCreatorId = int.Parse(currentUserId);

                context.Projects.Add(project);
                await context.SaveChangesAsync();

                return RedirectToAction(nameof(Projects));
            }

            ViewBag.ProjectLeads = await context.Users.ToListAsync();
            return View(project);
        }

        public async Task&lt;IActionResult&gt; ProjectDetails(int id)
        {
            var project = await context.Projects
                .Include(p =&gt; p.ProjectLead)
                .Include(p =&gt; p.ProjectGroups)
                .ThenInclude(pg =&gt; pg.Group)
                .FirstOrDefaultAsync(p =&gt; p.Id == id);

            if (project == null)
            {
                return NotFound();
            }
            ViewBag.Groups = await context.Groups.ToListAsync();
            return View(project);
        }

        [HttpPost]
        [ValidateAntiForgeryToken]
        public async Task&lt;IActionResult&gt; AssignGroupToProject(int projectId, int groupId)
        {
            var project = await context.Projects
                .Include(p =&gt; p.ProjectGroups)
                .FirstOrDefaultAsync(p =&gt; p.Id == projectId);

            var group = await context.Groups.FindAsync(groupId);

            if (project == null || group == null)
            {
                return NotFound();
            }

            // Check if the group is already assigned
            if (!project.ProjectGroups.Any(pg =&gt; pg.GroupId == groupId))
            {
                project.ProjectGroups.Add(new GroupProject
                {
                    ProjectId = projectId,
                    GroupId = groupId
                });
                await context.SaveChangesAsync();
            }

            return RedirectToAction(&quot;ProjectDetails&quot;, new { id = projectId });
        }

        [HttpPost]
        [ValidateAntiForgeryToken]
        public async Task&lt;IActionResult&gt; RemoveGroupFromProject(int projectId, int groupId)
        {
            var project = await context.Projects
                .Include(p =&gt; p.ProjectGroups)
                .FirstOrDefaultAsync(p =&gt; p.Id == projectId);

            if (project == null)
            {
                return NotFound();
            }

            var projectGroup = project.ProjectGroups.FirstOrDefault(pg =&gt; pg.GroupId == groupId);

            if (projectGroup != null)
            {
                project.ProjectGroups.Remove(projectGroup);
                await context.SaveChangesAsync();
            }

            return RedirectToAction(&quot;ProjectDetails&quot;, new { id = projectId });
        }

        public async Task&lt;IActionResult&gt; EditProject(int id)
        {
            var project = await context.Projects.FindAsync(id);
            if (project == null)
            {
                return NotFound();
            }

            ViewBag.ProjectLeads = await context.Users.ToListAsync();
            return View(project);
        }

        [HttpPost]
        [ValidateAntiForgeryToken]
        public async Task&lt;IActionResult&gt; EditProject(int id, Project project)
        {
            if (id != project.Id)
            {
                return BadRequest();
            }

            if (ModelState.IsValid)
            {
                try
                {
                    var currentUserId = userManager.GetUserId(User);

                    if (string.IsNullOrEmpty(currentUserId))
                    {
                        ModelState.AddModelError(&quot;&quot;, &quot;Unable to determine the logged-in user.&quot;);
                        return View(project);
                    }

                    project.ProjectCreatorId = int.Parse(currentUserId);

                    context.Update(project);
                    await context.SaveChangesAsync();

                    return RedirectToAction(&quot;ProjectDetails&quot;, new { id = project.Id });
                }
                catch (DbUpdateConcurrencyException)
                {
                    if (!context.Projects.Any(p =&gt; p.Id == project.Id))
                    {
                        return NotFound();
                    }
                    throw;
                }
            }

            ViewBag.ProjectLeads = await context.Users.ToListAsync();
            return View(project);
        }


        [HttpPost]
        [ValidateAntiForgeryToken]
        public async Task&lt;IActionResult&gt; DeleteProject(int id)
        {
            var project = await context.Projects.FindAsync(id);
            if (project != null)
            {
                context.Projects.Remove(project);
                await context.SaveChangesAsync();
            }
            return RedirectToAction(nameof(Projects));
        }

        [HttpPost]
        [ValidateAntiForgeryToken]
        public async Task&lt;IActionResult&gt; CreateGroup(Group group, List&lt;int&gt; selectedManagers, List&lt;int&gt; selectedUsers, int primaryManagerId)
        {
            if (primaryManagerId &gt; 0)
            {
                var primaryManager = await context.Users.FindAsync(primaryManagerId);
                if (primaryManager == null)
                {
                    ModelState.AddModelError(&quot;PrimaryManagerId&quot;, &quot;The selected Primary Manager is invalid.&quot;);
                }
                else
                {
                    group.PrimaryManager = primaryManager;
                    group.PrimaryManagerId = primaryManagerId;
                }
            }
            else
            {
                ModelState.AddModelError(&quot;PrimaryManagerId&quot;, &quot;The Primary Manager field is required.&quot;);
            }

            if (!selectedManagers.Contains(primaryManagerId))
            {
                ModelState.AddModelError(&quot;PrimaryManagerId&quot;, &quot;Primary Manager must be one of the selected managers.&quot;);
            }

            if (ModelState.IsValid)
            {
                context.Groups.Add(group);
                await context.SaveChangesAsync();

                var managerEntities = await context.Users.Where(u =&gt; selectedManagers.Contains(u.Id)).ToListAsync();
                foreach (var manager in managerEntities)
                {
                    group.Users.Add(manager);
                    group.Managers.Add(new GroupManager { GroupId = group.Id, UserId = manager.Id });

                }

                var userEntities = await context.Users.Where(u =&gt; selectedUsers.Contains(u.Id) &amp;&amp; !selectedManagers.Contains(u.Id)).ToListAsync();
                foreach (var user in userEntities)
                {
                    group.Users.Add(user);
                }

                await context.SaveChangesAsync();

                return RedirectToAction(nameof(Groups));
            }

            var usersList = await context.Users.ToListAsync();
            var userManager = HttpContext.RequestServices.GetRequiredService&lt;UserManager&lt;User&gt;&gt;();

            var managers = usersList.Where(user =&gt; userManager.IsInRoleAsync(user, &quot;Manager&quot;).Result).ToList();
            var employees = usersList.Where(user =&gt; userManager.IsInRoleAsync(user, &quot;Employee&quot;).Result &amp;&amp; !managers.Contains(user)).ToList();

            ViewBag.Managers = managers;
            ViewBag.Employees = employees;

            return View(group);
        }

        /// &lt;summary&gt;
        /// Deletes a group based on the provided ID.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;id&quot;&gt;The ID of the group to be deleted.&lt;/param&gt;
        /// &lt;returns&gt;A redirect to the Groups list.&lt;/returns&gt;
        [HttpPost]
        [ValidateAntiForgeryToken]
        public async Task&lt;IActionResult&gt; DeleteGroup(int id)
        {
            var group = await context.Groups.FindAsync(id);
            if (group != null)
            {
                context.Groups.Remove(group);
                await context.SaveChangesAsync();
            }
            return RedirectToAction(nameof(Groups));
        }

        /// &lt;summary&gt;
        /// Retrieves and displays management details for a specific group.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;id&quot;&gt;The ID of the group.&lt;/param&gt;
        /// &lt;returns&gt;A view displaying group management details or NotFound if the group does not exist.&lt;/returns&gt;
        public async Task&lt;IActionResult&gt; ManageGroup(int id)
        {
            var group = await context.Groups
                .Include(g =&gt; g.Users)
                .FirstOrDefaultAsync(g =&gt; g.Id == id);

            if (group == null)
            {
                return NotFound();
            }

            return View(group);
        }

        /// &lt;summary&gt;
        /// Retrieves and displays detailed information for a specific group, including its users and managers,
        /// and also loads all users (excluding managers) and all managers from the database to allow adding new members.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;id&quot;&gt;The ID of the group.&lt;/param&gt;
        /// &lt;returns&gt;A view displaying group details or NotFound if the group does not exist.&lt;/returns&gt;
        public async Task&lt;IActionResult&gt; GroupDetails(int id)
        {
            var group = await context.Groups
                .Include(g =&gt; g.Users)
                .Include(g =&gt; g.Managers)
                .ThenInclude(gm =&gt; gm.User)
                .Include(g =&gt; g.PrimaryManager)
                .FirstOrDefaultAsync(g =&gt; g.Id == id);

            if (group == null)
                return NotFound();

            var allUsers = await context.Users.ToListAsync();
            var userManager = HttpContext.RequestServices.GetRequiredService&lt;UserManager&lt;User&gt;&gt;();

            var allManagers = allUsers
                .Where(user =&gt; userManager.IsInRoleAsync(user, &quot;Manager&quot;).Result)
                .ToList();

            var nonManagerUsers = allUsers.Except(allManagers).ToList();

            ViewBag.Users = nonManagerUsers;
            ViewBag.Managers = allManagers;

            return View(group);
        }

        /// &lt;summary&gt;
        /// Adds a user to a specified group.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;groupId&quot;&gt;The ID of the group.&lt;/param&gt;
        /// &lt;param name=&quot;userId&quot;&gt;The ID of the user to be added.&lt;/param&gt;
        /// &lt;returns&gt;A redirect to the group&#39;s details page.&lt;/returns&gt;
        [HttpPost]
        [ValidateAntiForgeryToken]
        public async Task&lt;IActionResult&gt; AddUserToGroup(int groupId, int userId)
        {
            var group = await context.Groups.Include(g =&gt; g.Users).FirstOrDefaultAsync(g =&gt; g.Id == groupId);
            var user = await context.Users.FindAsync(userId);

            if (group == null || user == null)
            {
                return NotFound();
            }

            if (!group.Users.Contains(user))
            {
                group.Users.Add(user);
                await context.SaveChangesAsync();
            }

            return RedirectToAction(&quot;GroupDetails&quot;, new { id = groupId });
        }

        /// &lt;summary&gt;
        /// Adds a manager to a specified group, with an option to set them as the primary manager.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;groupId&quot;&gt;The ID of the group.&lt;/param&gt;
        /// &lt;param name=&quot;managerId&quot;&gt;The ID of the manager to be added.&lt;/param&gt;
        /// &lt;param name=&quot;isPrimary&quot;&gt;Indicates if the manager should be the primary manager.&lt;/param&gt;
        /// &lt;returns&gt;A redirect to the group&#39;s details page.&lt;/returns&gt;
        [HttpPost]
        [ValidateAntiForgeryToken]
        public async Task&lt;IActionResult&gt; AddManagerToGroup(int groupId, int managerId, bool isPrimary)
        {
            var group = await context.Groups.Include(g =&gt; g.Managers).FirstOrDefaultAsync(g =&gt; g.Id == groupId);
            var user = await context.Users.FindAsync(managerId);

            if (group == null || user == null)
            {
                return NotFound();
            }

            if (group.Managers.All(m =&gt; m.UserId != managerId))
            {
                context.GroupManagers.Add(new GroupManager
                {
                    GroupId = groupId,
                    UserId = managerId
                });
            }

            if (isPrimary)
            {
                group.PrimaryManagerId = managerId;
            }

            await context.SaveChangesAsync();
            return RedirectToAction(&quot;GroupDetails&quot;, new { id = groupId });
        }

        /// &lt;summary&gt;
        /// Displays the edit page for a specific user.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;id&quot;&gt;The ID of the user.&lt;/param&gt;
        /// &lt;returns&gt;A view displaying user edit options or NotFound if the user does not exist.&lt;/returns&gt;
        public async Task&lt;IActionResult&gt; UserEdit(string id)
        {
            var user = await userManager.FindByIdAsync(id);
            if (user == null)
            {
                return NotFound();
            }

            var roles = roleManager.Roles.Select(r =&gt; r.Name).ToList();

            var userRoles = await userManager.GetRolesAsync(user);
            string currentRole = userRoles.FirstOrDefault();

            ViewBag.Roles = roles;
            ViewBag.CurrentRole = currentRole;

            return View(user);
        }

        /// &lt;summary&gt;
        /// Updates the details of a specific user, including their username, email, and role.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;id&quot;&gt;The ID of the user.&lt;/param&gt;
        /// &lt;param name=&quot;UserName&quot;&gt;The new username.&lt;/param&gt;
        /// &lt;param name=&quot;Email&quot;&gt;The new email address.&lt;/param&gt;
        /// &lt;param name=&quot;Role&quot;&gt;The new role to assign.&lt;/param&gt;
        /// &lt;returns&gt;A redirect to the Users list.&lt;/returns&gt;
        [HttpPost]
        [ValidateAntiForgeryToken]
        public async Task&lt;IActionResult&gt; UserEdit(string id, string UserName, string Email, string Role)
        {
            var user = await userManager.FindByIdAsync(id);
            if (user == null)
            {
                return NotFound();
            }

            user.UserName = UserName;
            user.Email = Email;
            await userManager.UpdateAsync(user);

            var userRoles = await userManager.GetRolesAsync(user);

            if (userRoles.Any())
            {
                await userManager.RemoveFromRolesAsync(user, userRoles);
            }

            if (!string.IsNullOrEmpty(Role))
            {
                await userManager.AddToRoleAsync(user, Role);
            }

            return RedirectToAction(&quot;Users&quot;);
        }

        /// &lt;summary&gt;
        /// Displays the confirmation page for deleting a user.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;id&quot;&gt;The ID of the user.&lt;/param&gt;
        /// &lt;returns&gt;A view displaying the user to be deleted or NotFound if the user does not exist.&lt;/returns&gt;
        public async Task&lt;IActionResult&gt; UserDelete(int id)
        {
            var user = await context.Users.FindAsync(id);
            if (user == null)
            {
                return NotFound();
            }

            return View(user);
        }

        /// &lt;summary&gt;
        /// Confirms and executes the deletion of a user.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;id&quot;&gt;The ID of the user to be deleted.&lt;/param&gt;
        /// &lt;returns&gt;A redirect to the Users list.&lt;/returns&gt;
        [HttpPost, ActionName(&quot;DeleteConfirmed&quot;)]
        [ValidateAntiForgeryToken]
        public async Task&lt;IActionResult&gt; DeleteConfirmed(int id)
        {
            var user = await context.Users.FindAsync(id);
            if (user != null)
            {
                context.Users.Remove(user);
                await context.SaveChangesAsync();
            }
            return RedirectToAction(nameof(Users));
        }

        /// &lt;summary&gt;
        /// Checks whether a user exists in the database.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;id&quot;&gt;The ID of the user.&lt;/param&gt;
        /// &lt;returns&gt;True if the user exists, otherwise false.&lt;/returns&gt;
        private bool UserExists(int id)
        {
            return context.Users.Any(u =&gt; u.Id == id);
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[18,18,18,138,1],[25,9,25,10,1],[26,13,26,59,1],[27,13,27,32,1],[28,9,28,10,1],[37,9,37,10,1],[38,13,38,27,1],[39,9,39,10,1],[45,9,45,10,0],[46,13,46,37,0],[47,17,47,36,0],[50,13,50,91,0],[53,13,53,88,0],[55,13,55,44,0],[56,13,56,14,0],[58,17,58,95,0],[59,17,59,52,0],[60,17,60,18,0],[61,21,61,63,0],[64,17,64,24,0],[64,26,64,35,0],[64,36,64,38,0],[64,39,64,66,0],[65,17,65,18,0],[66,21,66,96,0],[67,21,67,79,0],[68,17,68,18,0],[69,13,69,14,0],[71,13,71,20,0],[71,22,71,31,0],[71,32,71,34,0],[71,35,71,58,0],[72,13,72,14,0],[73,17,73,92,0],[74,17,74,75,0],[75,13,75,14,0],[77,13,77,32,0],[78,9,78,10,0],[82,9,82,10,1],[83,13,83,58,1],[85,13,85,30,1],[86,13,86,14,1],[87,17,87,35,1],[90,13,90,31,1],[91,9,91,10,1],[98,9,98,10,1],[99,13,99,61,1],[100,13,100,33,1],[101,9,101,10,1],[109,9,109,10,1],[110,13,110,48,1],[111,13,111,99,1],[113,13,113,48,1],[113,48,113,97,1],[113,97,113,108,1],[114,13,114,49,1],[114,49,114,99,1],[114,99,114,110,1],[116,13,116,41,1],[117,13,117,43,1],[119,13,119,27,1],[120,9,120,10,1],[132,9,132,10,1],[133,13,133,65,1],[134,13,134,35,1],[135,9,135,10,1],[138,9,138,10,1],[139,13,139,59,1],[140,13,140,42,1],[141,13,141,27,1],[142,9,142,10,1],[147,9,147,10,1],[148,13,148,36,1],[149,13,149,14,1],[150,17,150,65,1],[152,17,152,57,1],[153,17,153,18,1],[154,21,154,93,1],[155,21,155,42,1],[158,17,158,69,1],[160,17,160,47,1],[161,17,161,50,1],[163,17,163,59,1],[166,13,166,70,1],[167,13,167,34,1],[168,9,168,10,1],[171,9,171,10,1],[172,13,176,55,1],[178,13,178,33,1],[179,13,179,14,1],[180,17,180,35,1],[182,13,182,65,0],[183,13,183,34,0],[184,9,184,10,1],[189,9,189,10,1],[190,13,192,62,1],[194,13,194,65,1],[196,13,196,50,1],[197,13,197,14,1],[198,17,198,35,1],[202,13,202,50,1],[202,50,202,71,1],[202,71,202,73,1],[203,13,203,14,1],[204,17,208,20,1],[209,17,209,50,1],[210,13,210,14,1],[212,13,212,79,1],[213,9,213,10,1],[218,9,218,10,1],[219,13,221,62,1],[223,13,223,33,1],[224,13,224,14,1],[225,17,225,35,1],[228,13,228,75,1],[228,75,228,96,1],[228,96,228,98,1],[230,13,230,38,1],[231,13,231,14,1],[232,17,232,60,1],[233,17,233,50,1],[234,13,234,14,1],[236,13,236,79,1],[237,9,237,10,1],[240,9,240,10,1],[241,13,241,64,1],[242,13,242,33,1],[243,13,243,14,1],[244,17,244,35,1],[247,13,247,70,1],[248,13,248,34,1],[249,9,249,10,1],[254,9,254,10,1],[255,13,255,34,1],[256,13,256,14,1],[257,17,257,37,1],[260,13,260,36,1],[261,13,261,14,1],[263,17,263,18,1],[264,21,264,69,1],[266,21,266,61,1],[267,21,267,22,1],[268,25,268,97,1],[269,25,269,46,1],[272,21,272,73,1],[274,21,274,45,1],[275,21,275,54,1],[277,21,277,88,1],[279,17,279,53,1],[280,17,280,18,1],[281,21,281,72,1],[282,21,282,22,1],[283,25,283,43,1],[285,21,285,27,0],[289,13,289,70,0],[290,13,290,34,0],[291,9,291,10,1],[297,9,297,10,1],[298,13,298,64,1],[299,13,299,33,1],[300,13,300,14,1],[301,17,301,50,1],[302,17,302,50,1],[303,13,303,14,1],[304,13,304,55,1],[305,9,305,10,1],[310,9,310,10,1],[311,13,311,38,1],[312,13,312,14,1],[313,17,313,86,1],[314,17,314,44,1],[315,17,315,18,0],[316,21,316,110,0],[317,17,317,18,0],[319,17,319,18,1],[320,21,320,59,1],[321,21,321,63,1],[322,17,322,18,1],[323,13,323,14,1],[325,13,325,14,1],[326,17,326,104,1],[327,13,327,14,1],[329,13,329,62,1],[330,13,330,14,1],[331,17,331,119,1],[332,13,332,14,1],[334,13,334,36,1],[335,13,335,14,1],[336,17,336,43,1],[337,17,337,50,1],[339,17,339,117,1],[340,17,340,24,1],[340,26,340,37,1],[340,38,340,40,1],[340,41,340,56,1],[341,17,341,18,1],[342,21,342,46,1],[343,21,343,102,1],[345,17,345,18,1],[347,17,347,147,1],[348,17,348,24,1],[348,26,348,34,1],[348,35,348,37,1],[348,38,348,50,1],[349,17,349,18,1],[350,21,350,43,1],[351,17,351,18,1],[353,17,353,50,1],[355,17,355,57,1],[358,13,358,63,1],[359,13,359,99,1],[361,13,361,52,1],[361,52,361,101,0],[361,101,361,112,1],[362,13,362,53,1],[362,53,362,131,0],[362,131,362,142,1],[364,13,364,41,1],[365,13,365,43,1],[367,13,367,32,1],[368,9,368,10,1],[378,9,378,10,1],[379,13,379,60,1],[380,13,380,31,1],[381,13,381,14,1],[382,17,382,46,1],[383,17,383,50,1],[384,13,384,14,1],[385,13,385,53,1],[386,9,386,10,1],[394,9,394,10,1],[395,13,397,55,1],[399,13,399,31,1],[400,13,400,14,1],[401,17,401,35,1],[404,13,404,32,1],[405,9,405,10,1],[414,9,414,10,1],[415,13,420,55,1],[422,13,422,31,1],[423,17,423,35,1],[425,13,425,62,1],[426,13,426,99,1],[428,13,429,32,1],[429,32,429,81,1],[429,81,430,27,1],[432,13,432,73,1],[434,13,434,45,1],[435,13,435,44,1],[437,13,437,32,1],[438,9,438,10,1],[449,9,449,10,1],[450,13,450,110,1],[451,13,451,62,1],[453,13,453,47,1],[454,13,454,14,1],[455,17,455,35,1],[458,13,458,45,1],[459,13,459,14,1],[460,17,460,39,1],[461,17,461,50,1],[462,13,462,14,1],[464,13,464,75,1],[465,9,465,10,1],[477,9,477,10,1],[478,13,478,113,1],[479,13,479,65,1],[481,13,481,47,1],[482,13,482,14,1],[483,17,483,35,1],[486,13,486,41,1],[486,41,486,62,0],[486,62,486,64,1],[487,13,487,14,1],[488,17,492,20,1],[493,13,493,14,1],[495,13,495,27,1],[496,13,496,14,1],[497,17,497,52,1],[498,13,498,14,1],[500,13,500,46,1],[501,13,501,75,1],[502,9,502,10,1],[510,9,510,10,1],[511,13,511,60,1],[512,13,512,30,1],[513,13,513,14,1],[514,17,514,35,1],[517,13,517,72,1],[519,13,519,67,1],[520,13,520,61,1],[522,13,522,35,1],[523,13,523,47,1],[525,13,525,31,1],[526,9,526,10,1],[539,9,539,10,0],[540,13,540,60,0],[541,13,541,30,0],[542,13,542,14,0],[543,17,543,35,0],[546,13,546,38,0],[547,13,547,32,0],[548,13,548,49,0],[550,13,550,67,0],[552,13,552,33,0],[553,13,553,14,0],[554,17,554,73,0],[555,13,555,14,0],[557,13,557,45,0],[558,13,558,14,0],[559,17,559,62,0],[560,13,560,14,0],[562,13,562,46,0],[563,9,563,10,0],[571,9,571,10,1],[572,13,572,58,1],[573,13,573,30,1],[574,13,574,14,1],[575,17,575,35,1],[578,13,578,31,1],[579,9,579,10,1],[589,9,589,10,1],[590,13,590,58,1],[591,13,591,30,1],[592,13,592,14,1],[593,17,593,44,1],[594,17,594,50,1],[595,13,595,14,1],[596,13,596,52,1],[597,9,597,10,1],[605,9,605,10,0],[606,13,606,55,0],[607,9,607,10,0]]);
    </script>
  </body>
</html>