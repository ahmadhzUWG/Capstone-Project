<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Nick\Desktop\Capstone-Project\code\TaskManager\Views\Admin\UserDelete.cshtml</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
@model TaskManagerWebsite.ViewModels.UserDeleteViewModel

@{
    ViewData[&quot;Title&quot;] = &quot;Delete User&quot;;
}

&lt;h2&gt;Delete User&lt;/h2&gt;

@if (TempData[&quot;ErrorMessage&quot;] != null)
{
    &lt;div class=&quot;alert alert-danger&quot;&gt;
        @TempData[&quot;ErrorMessage&quot;]
    &lt;/div&gt;
}

@if (Model.RelatedGroups.Any() || Model.RelatedProjects.Any())
{
    &lt;div class=&quot;alert alert-warning&quot;&gt;
        &lt;strong&gt;Warning!&lt;/strong&gt; This user cannot be deleted because they manage groups or those groups are referenced in projects.

        @if (Model.RelatedGroups.Any())
        {
            &lt;p&gt;The user manages the following groups:&lt;/p&gt;
            &lt;ul&gt;
                @foreach (var group in Model.RelatedGroups)
                {
                    &lt;li&gt;@group.Name&lt;/li&gt;
                }
            &lt;/ul&gt;
        }

        @if (Model.RelatedProjects.Any())
        {
            &lt;p&gt;The following projects reference those groups:&lt;/p&gt;
            &lt;ul&gt;
                @foreach (var project in Model.RelatedProjects)
                {
                    &lt;li&gt;@project.Name&lt;/li&gt;
                }
            &lt;/ul&gt;
        }
    &lt;/div&gt;
}

&lt;div&gt;
    &lt;h4&gt;User Details&lt;/h4&gt;
    &lt;hr /&gt;
    &lt;dl class=&quot;dl-horizontal&quot;&gt;
        &lt;dt&gt;@Html.DisplayNameFor(model =&gt; model.User.UserName)&lt;/dt&gt;
        &lt;dd&gt;@Html.DisplayFor(model =&gt; model.User.UserName)&lt;/dd&gt;

        &lt;dt&gt;@Html.DisplayNameFor(model =&gt; model.User.Email)&lt;/dt&gt;
        &lt;dd&gt;@Html.DisplayFor(model =&gt; model.User.Email)&lt;/dd&gt;
    &lt;/dl&gt;

    @if (!Model.RelatedGroups.Any() &amp;&amp; !Model.RelatedProjects.Any())
    {
        &lt;form asp-action=&quot;DeleteConfirmed&quot; method=&quot;post&quot;&gt;
            @Html.AntiForgeryToken()
            &lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;@Model.User.Id&quot; /&gt;
            &lt;button type=&quot;submit&quot; class=&quot;btn btn-danger&quot;&gt;Delete&lt;/button&gt;
        &lt;/form&gt;
    }
    else
    {
        &lt;p class=&quot;text-muted&quot;&gt;&lt;em&gt;Deletion is disabled because of the dependencies above.&lt;/em&gt;&lt;/p&gt;
    }

    &lt;a asp-action=&quot;Users&quot; class=&quot;btn btn-secondary&quot;&gt;Back to List&lt;/a&gt;
&lt;/div&gt;

    </pre>
    <script type="text/javascript">
      highlightRanges([[4,5,4,39,0],[9,2,9,39,0],[10,1,10,2,0],[12,10,12,35,0],[14,1,14,2,0],[16,2,16,63,0],[17,1,17,2,0],[21,10,21,40,0],[22,9,22,10,0],[25,18,25,25,0],[25,27,25,36,0],[25,37,25,39,0],[25,40,25,59,0],[26,17,26,18,0],[27,26,27,37,0],[28,17,28,18,0],[30,9,30,10,0],[32,10,32,42,0],[33,9,33,10,0],[36,18,36,25,0],[36,27,36,38,0],[36,39,36,41,0],[36,42,36,63,0],[37,17,37,18,0],[38,26,38,39,0],[39,17,39,18,0],[41,9,41,10,0],[43,1,43,2,0],[49,14,49,64,0],[50,14,50,60,0],[52,14,52,61,0],[53,14,53,57,0],[56,6,56,69,0],[57,5,57,6,0],[59,14,59,38,0],[60,51,60,66,0],[63,5,63,6,0],[65,5,65,6,0],[67,5,67,6,0]]);
    </script>
  </body>
</html>